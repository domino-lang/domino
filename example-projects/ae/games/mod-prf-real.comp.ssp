composition Modprfreal {
    const n: Integer;
    const prf: fn Bits(n), Bits(n) -> Bits(n);

    instance key = KeyReal {
        params {
            n: n,
        }
    }

    instance mod_prf = modPRF {
        params {
            n:   n,
          prf: prf,
        }
    }

    compose {
        adversary: {
            Eval: mod_prf,
            Get:  key,
        },
        mod_prf: {
            Set: key,
        },
    }
}
